{"version":3,"sources":["redux/auth/auth-selector.js","components/Navigation/Navigation.jsx","components/AuthNav/AuthNav.jsx","images/images.jpg","components/UserMenu/UserMenu.jsx","components/NavBar/NavBar.jsx","routes.js","components/PublickRoute/PublicRoute.jsx","components/PrivateRoute/PrivateRoute.jsx","components/App.js","redux/phonebook/phonebook-reducer.js","redux/auth/auth-reducer.js","redux/store.js","index.js","redux/phonebook/phonebook-actions.js","components/AuthNav/AuthNav.module.css","components/Navigation/Navigation.module.css","redux/auth/auth-operations.js","components/UserMenu/UserMenu.module.css","redux/auth/auth-actions.js","components/NavBar/NavBar.module.css","components/App.module.css"],"names":["getLogged","state","auth","isLogged","getName","user","name","Navigation","useSelector","className","styles","navigation","link","exact","activeClassName","to","btn","type","authBtn","mapDispatchToProps","onLogout","logout","connect","avatar","getAvatar","userNav","src","width","userBtn","onClick","NavBar","mainHeader","AuthNav","routes","home","register","login","contacts","Component","component","redirectTo","routeProps","render","props","restricted","HomePage","lazy","PhonebookPage","RegisterPage","LoginPage","App","dispatch","useDispatch","useEffect","getCurrentUser","fallback","Loader","color","height","path","items","createReducer","fetchContactsSucces","_","action","payload","addContactSucces","deleteContactSucces","id","findIndex","contact","slice","filter","filterContacts","_state","loading","addContactRequest","addContactError","deleteContactRequest","deleteContactError","fetchContactsRequest","fetchContactsError","combineReducers","initialState","email","registerSucces","loginSucces","logoutSucces","getCurrentUserSucces","token","error","registerError","loginError","logoutError","getCurrentUserError","authPersistConfig","key","storage","blacklist","whitelist","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","store","configureStore","reducer","phonebook","phonebookReducer","persistReducer","authReducer","devTools","process","persistor","persistStore","ReactDOM","StrictMode","document","getElementById","createAction","module","exports","Axios","defaults","baseURL","headers","common","Authorization","credentials","a","registerRequest","post","response","data","message","loginRequest","logoutRequest","getState","persistedToken","getCurrentUserRequest","get"],"mappings":"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","file":"static/js/main.be2db7ea.chunk.js","sourcesContent":["const getLogged = state => !!state.auth.isLogged;\r\nconst getName = state => state.auth.user.name;\r\n\r\nexport { getLogged, getName };\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { getLogged } from '../../redux/auth/auth-selector';\r\nimport styles from './Navigation.module.css';\r\n\r\nfunction Navigation () {\r\n  const isLogged = useSelector(getLogged);\r\n\r\n  return (\r\n    <div>\r\n      <ul className={styles.navigation}>\r\n        <li>\r\n          <NavLink\r\n            className={styles.link}\r\n            exact\r\n            // className=''\r\n            activeClassName=''\r\n            to='/'\r\n          >\r\n            <button className={styles.btn} type='button'>\r\n              Home\r\n            </button>\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          {isLogged && (\r\n            <NavLink exact className='' activeClassName='' to='/contacts'>\r\n              <button className={styles.btn} type='button'>\r\n                Contacts\r\n              </button>\r\n            </NavLink>\r\n          )}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './AuthNav.module.css';\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <div>\r\n      <ul className={styles.navigation}>\r\n        <li className={styles.link}>\r\n          <NavLink exact className='' activeClassName='' to='/register'>\r\n            <button type='button' className={styles.authBtn}>\r\n              Register\r\n            </button>\r\n          </NavLink>\r\n        </li>\r\n        <li className={styles.link}>\r\n          <NavLink exact className='' activeClassName='' to='/login'>\r\n            <button type='button' className={styles.authBtn}>\r\n              Login\r\n            </button>\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/images.c323bf16.jpg\";","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getName } from '../../redux/auth/auth-selector';\r\nimport { logout } from '../../redux/auth/auth-operations';\r\nimport getAvatar from '../../images/images.jpg';\r\nimport styles from './UserMenu.module.css';\r\n\r\nconst UserMenu = ({ name, avatar, onLogout }) => {\r\n  return (\r\n    <div className={styles.userNav}>\r\n      <img src={avatar} width='30'></img>\r\n      <span>Welcome,{name}!</span>\r\n      <button className={styles.userBtn} type='button' onClick={onLogout}>\r\n        Log out\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  name: getName(state),\r\n  avatar: getAvatar,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: logout,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation';\r\nimport AuthNav from '../AuthNav';\r\nimport UserMenu from '../UserMenu';\r\nimport { getLogged } from '../../redux/auth/auth-selector';\r\nimport styles from './NavBar.module.css';\r\n\r\nfunction NavBar () {\r\n  const isLogged = useSelector(getLogged);\r\n\r\n  return (\r\n    <header className={styles.mainHeader}>\r\n      <Navigation />\r\n      {isLogged ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","const routes = {\r\n  home: '/',\r\n  register: '/register',\r\n  login: '/login',\r\n  contacts: '/contacts',\r\n};\r\n\r\nexport default routes;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getLogged } from '../../redux/auth/auth-selector';\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isLogged,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isLogged && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isLogged: getLogged(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getLogged } from '../../redux/auth/auth-selector';\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isLogged,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isLogged ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isLogged: getLogged(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { lazy, Suspense, useEffect } from 'react';\r\nimport { Switch, Redirect } from 'react-router-dom';\r\nimport NavBar from './NavBar';\r\nimport Loader from 'react-loader-spinner';\r\nimport routes from '../routes';\r\nimport { getCurrentUser } from '../redux/auth/auth-operations';\r\nimport { useDispatch } from 'react-redux';\r\nimport PublicRoute from './PublickRoute';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport styles from './App.module.css';\r\n\r\nconst HomePage = lazy(() =>\r\n  import('../pages/HomePage' /* webpackChunkName: \"home-page\" */),\r\n);\r\nconst PhonebookPage = lazy(() =>\r\n  import('../pages/PhonebookPage' /* webpackChunkName: \"contacts-page\" */),\r\n);\r\n\r\nconst RegisterPage = lazy(() =>\r\n  import('../pages/RegisterPage' /* webpackChunkName: \"reg-page\" */),\r\n);\r\nconst LoginPage = lazy(() =>\r\n  import('../pages/LoginPage' /* webpackChunkName: \"log-page\" */),\r\n);\r\n\r\nfunction App () {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <Suspense\r\n        fallback={\r\n          <Loader\r\n            className={styles.Loader}\r\n            type='Oval'\r\n            color='#777'\r\n            height={280}\r\n            width={280}\r\n          />\r\n        }\r\n      >\r\n        <Switch>\r\n          <PublicRoute exact path={routes.home} component={HomePage} />\r\n          <PrivateRoute\r\n            exact\r\n            path={routes.contacts}\r\n            component={PhonebookPage}\r\n            redirectTo={routes.login}\r\n          />\r\n          <PublicRoute\r\n            exact\r\n            restricted\r\n            path={routes.register}\r\n            component={RegisterPage}\r\n            redirectTo={routes.contacts}\r\n          />\r\n          <PublicRoute\r\n            exact\r\n            restricted\r\n            path={routes.login}\r\n            component={LoginPage}\r\n            redirectTo={routes.contacts}\r\n          />\r\n\r\n          <Redirect to={routes.home} />\r\n        </Switch>\r\n      </Suspense>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  filterContacts,\r\n  addContactRequest,\r\n  addContactSucces,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSucces,\r\n  deleteContactError,\r\n  fetchContactsRequest,\r\n  fetchContactsSucces,\r\n  fetchContactsError,\r\n} from './phonebook-actions';\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactsSucces]: (_, action) => action.payload,\r\n  [addContactSucces]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSucces]: (state, { payload }) => {\r\n    const id = state.findIndex(contact => contact.id === payload);\r\n\r\n    return [...state.slice(0, id), ...state.slice(id + 1)];\r\n  },\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [filterContacts]: (_state, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [addContactRequest]: () => true,\r\n  [addContactSucces]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSucces]: () => false,\r\n  [deleteContactError]: () => false,\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSucces]: () => false,\r\n  [fetchContactsError]: () => false,\r\n});\r\n\r\n// const error = createReducer(null, {  });\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n});\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  registerRequest,\r\n  registerSucces,\r\n  registerError,\r\n  loginRequest,\r\n  loginSucces,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSucces,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSucces,\r\n  getCurrentUserError,\r\n} from './auth-actions';\r\n\r\nconst initialState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialState, {\r\n  [registerSucces]: (_, { payload }) => payload.user,\r\n  [loginSucces]: (_, { payload }) => payload.user,\r\n  [logoutSucces]: () => initialState,\r\n  [getCurrentUserSucces]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [registerSucces]: (_, { payload }) => payload.token,\r\n  [loginSucces]: (_, { payload }) => payload.token,\r\n  [logoutSucces]: () => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [registerError]: (_, { payload }) => payload,\r\n  [loginError]: (_, { payload }) => payload,\r\n  [logoutError]: (_, { payload }) => payload,\r\n  [getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isLogged = createReducer(false, {\r\n  [registerSucces]: () => true,\r\n  [loginSucces]: () => true,\r\n  [getCurrentUserSucces]: () => true,\r\n  [registerError]: () => false,\r\n  [loginError]: () => false,\r\n  [getCurrentUserError]: () => false,\r\n  [logoutSucces]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  token,\r\n  error,\r\n  isLogged,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\n\r\nimport phonebookReducer from './phonebook/phonebook-reducer';\r\nimport authReducer from './auth/auth-reducer';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst authPersistConfig = {\r\n  key: 'phonebook',\r\n  storage,\r\n  blacklist: ['loading', '_persist'],\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    phonebook: phonebookReducer,\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport { Provider } from 'react-redux';\n\nimport App from './components/App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport store from './redux/store';\n\nReactDOM.render(\n  <Provider store={store.store}>\n    <PersistGate loading={null} persistor={store.persistor}>\n      <React.StrictMode>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </React.StrictMode>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root'),\n);\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst fetchContactsRequest = createAction('contacts/fetchContactsRequest');\r\nconst fetchContactsSucces = createAction('contacts/fetchContactsSuccess');\r\nconst fetchContactsError = createAction('contacts/fetchContactsError');\r\n\r\nconst addContactRequest = createAction('phonebook/addContactRequest');\r\nconst addContactSucces = createAction('phonebook/addContactSucces');\r\nconst addContactError = createAction('phonebook/addContactError');\r\n\r\nconst deleteContactRequest = createAction('phonebook/deleteContactRequest');\r\nconst deleteContactSucces = createAction('phonebook/deleteContactSucces');\r\nconst deleteContactError = createAction('phonebook/deleteContactError');\r\n\r\nconst filterContacts = createAction('FILTER_CONTACTS');\r\n\r\nexport {\r\n  filterContacts,\r\n  addContactRequest,\r\n  addContactSucces,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSucces,\r\n  deleteContactError,\r\n  fetchContactsRequest,\r\n  fetchContactsSucces,\r\n  fetchContactsError,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"AuthNav_navigation__3TabP\",\"authBtn\":\"AuthNav_authBtn__ETtdT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"Navigation_navigation__1Nlkk\",\"link\":\"Navigation_link__caPW6\",\"btn\":\"Navigation_btn__1ngmd\"};","import Axios from 'axios';\r\nimport {\r\n  registerRequest,\r\n  registerSucces,\r\n  registerError,\r\n  loginRequest,\r\n  loginSucces,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSucces,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSucces,\r\n  getCurrentUserError,\r\n} from './auth-actions';\r\n\r\nAxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set (token) {\r\n    Axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset () {\r\n    Axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = credentials => async dispatch => {\r\n  dispatch(registerRequest(credentials));\r\n  try {\r\n    const response = await Axios.post('/users/signup', credentials);\r\n    token.set(response.data.token);\r\n\r\n    dispatch(registerSucces(response.data));\r\n  } catch (error) {\r\n    dispatch(registerError(error.message));\r\n  }\r\n};\r\n\r\nconst login = credentials => async dispatch => {\r\n  dispatch(loginRequest(credentials));\r\n  try {\r\n    const response = await Axios.post('/users/login', credentials);\r\n    token.set(response.data.token);\r\n\r\n    dispatch(loginSucces(response.data));\r\n  } catch (error) {\r\n    dispatch(loginError(error.message));\r\n  }\r\n};\r\n\r\nconst logout = () => async dispatch => {\r\n  dispatch(logoutRequest());\r\n  try {\r\n    await Axios.post('/users/logout');\r\n    token.unset();\r\n    dispatch(logoutSucces());\r\n  } catch (error) {\r\n    dispatch(logoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n\r\n  dispatch(getCurrentUserRequest());\r\n  try {\r\n    const response = await Axios.get('/users/current');\r\n    dispatch(getCurrentUserSucces(response.data));\r\n  } catch (error) {\r\n    dispatch(getCurrentUserError(error.message));\r\n  }\r\n};\r\n\r\nexport { register, login, logout, getCurrentUser };\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userNav\":\"UserMenu_userNav__3CIN9\",\"userBtn\":\"UserMenu_userBtn__1i2f8\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('contacts/registerRequestRequest');\r\nconst registerSucces = createAction('contacts/registerRequestSuccess');\r\nconst registerError = createAction('contacts/registerRequestError');\r\n\r\nconst loginRequest = createAction('contacts/loginRequest');\r\nconst loginSucces = createAction('contacts/loginSuccess');\r\nconst loginError = createAction('contacts/loginError');\r\n\r\nconst logoutRequest = createAction('contacts/logoutRequest');\r\nconst logoutSucces = createAction('contacts/logoutSuccess');\r\nconst logoutError = createAction('contacts/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('contacts/currentUserRequest');\r\nconst getCurrentUserSucces = createAction('contacts/currentUserSuccess');\r\nconst getCurrentUserError = createAction('contacts/currentUserError');\r\n\r\nexport {\r\n  registerRequest,\r\n  registerSucces,\r\n  registerError,\r\n  loginRequest,\r\n  loginSucces,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSucces,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSucces,\r\n  getCurrentUserError,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainHeader\":\"NavBar_mainHeader__foXbX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"App_Loader__2688f\"};"],"sourceRoot":""}